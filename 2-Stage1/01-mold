# llvmtools: mold
# Build and install as cmlfs

# Ensure there is no stage0 flags
unset CFLAGS CXXFLAGS

cmake \
    -B build \
    -G Ninja -Wno-dev \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX="/llvmtools" \
    -DCMAKE_C_COMPILER="x86_64-cmlfs-linux-musl-clang" \
    -DCMAKE_CXX_COMPILER="x86_64-cmlfs-linux-musl-clang++"

# Compile
cmake --build build

# Install
cmake --install build
