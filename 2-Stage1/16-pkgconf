# llvmtools: pkgconf
# Build as cmlfs

# Configure
CC=clang CXX=clang++ \
LD=ld.mold \
RANLIB=llvm-ranlib STRIP=llvm-strip \
OBJCOPY=llvm-objcopy OBJDUMP=llvm-objdump \
./configure \
    --prefix=/llvmtools \
    --build=x86_64-cmlfs-linux-musl \
    --host=x86_64-cmlfs-linux-musl \
    --docdir=/llvmtools/share/doc/pkgconf-2.5.1 \
    --sysconfdir=/llvmtools/etc \
    --localstatedir=/llvmtools/var \
    --with-pkg-config-dir=/llvmtools/lib/pkgconfig:/llvmtools/share/pkgconfig

# Compile and install
make -j`nproc --all` && make install

ln -sv pkgconf /llvmtools/bin/pkg-config